import{u as v,j as e,P as f,Q as y,b as L,r as m,a as N}from"./index-CUnXo-ZD.js";import{R as $}from"./RatingStars-BoRaojdi.js";import{B as F}from"./BadgeFree-DFZbK7qe.js";import{T as P}from"./TeacherNameTranslation-C1AwYwT_.js";function C({teacher:a}){const{t}=v();return e.jsxs("div",{className:"bg-[var(--card-background)] rounded-[var(--border-radius)] flex flex-col shadow-[var(--box-shadow)] hover:shadow-2xl transition-all duration-300","data-aos":"fade-up",children:[e.jsxs("figure",{className:"relative",children:[e.jsx("img",{src:a.Image,alt:a.name,className:"w-full h-65 object-cover rounded-t-[var(--border-radius)]",loading:"lazy"}),e.jsx(F,{})]}),e.jsxs("div",{className:"p-3 pb-4",children:[e.jsx(P,{name:a.name,as:"h2",className:"card-title text-[var(--dark-color)] pb-2"}),e.jsxs("div",{className:"flex flex-col  gap-2 w-full text-sm",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("span",{className:"text-[var(--text-color)]",children:[t("subject"),":"]}),e.jsx("span",{className:" text-[var(--primary-color)] font-semibold",children:t(`subjects.${a.subject}`)||a.subject})]}),e.jsxs("div",{className:"flex  gap-1",children:[e.jsxs("span",{className:"text-[var(--text-color)]",children:[t("grade"),":"]}),e.jsx("span",{className:" text-[var(--primary-color)] font-semibold",children:t(`gradeLevels.${a.gradeLevel}`)||a.gradeLevel})]})]}),e.jsxs("div",{className:"mt-3 flex-column  justify-between",children:[e.jsx("p",{className:"text-[var(--stars-color)]",children:e.jsx($,{value:a.rating})}),e.jsx("p",{className:"mt-3 font-semibold text-[var(--dark-color)]",children:a.hourlyRate!=null?`${a.hourlyRate} ${t("hourlyRate")}`:""})]}),e.jsxs("div",{className:"card-actions mt-4",children:[e.jsx(f,{to:`/tutor/${a.id}`,children:e.jsx("button",{className:"btn btn-outline block border-[var(--secondary-color)] text-[var(--secondary-color)] w-fit hover:bg-[var(--secondary-color)] hover:text-white",children:t("viewMore")})}),e.jsx(f,{to:`/payment/${a.id}`,children:e.jsx("button",{className:"btn btn-outline block border-[var(--secondary-color)] text-white bg-[var(--secondary-color)] w-fit hover:bg-[var(--background-color)] hover:text-[var(--secondary-color)]",children:t("bookNow")})})]})]})]})}const R="_dropdown_1og6c_41",j={"search-input":"_search-input_1og6c_1",dropdown:R};function _({subjectOptions:a,gradeOptions:t}){const{t:o}=v(),[n]=y(),b=L(),[d,x]=m.useState(n.get("query")||""),[i,g]=m.useState(n.get("subject")||""),[u,h]=m.useState(n.get("grade")||""),r=()=>{const s=new URLSearchParams;d.trim()!==""&&s.set("query",d.trim()),i&&s.set("subject",i),u&&s.set("grade",u),b(`/search?${s.toString()}`)},l=s=>{s.key==="Enter"&&(s.preventDefault(),r())};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-9 gap-5 mb-10 mt-[-70px] w-[80vw] m-auto bg-[var(--card-background)] px-5 py-7 rounded-3xl shadow-[var(--box-shadow)]","data-aos":"fade-down",children:[e.jsxs("div",{className:"form-control md:col-span-4 relative",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-[var(--text-color)]",children:o("searchFilters.searchByName")})}),e.jsx("div",{className:"relative w-full",children:e.jsx("input",{type:"text",placeholder:o("searchFilters.teacherNamePlaceholder"),value:d,onChange:s=>x(s.target.value),onKeyDown:l,className:`input w-full px-10 text-lg ${j["search-input"]}`})})]}),e.jsxs("div",{className:"form-control md:col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text  text-[var(--text-color)]",children:o("searchFilters.subject")})}),e.jsxs("select",{onChange:s=>g(s.target.value),className:`select select-bordered w-full ${j.dropdown}`,children:[e.jsx("option",{value:"",children:o("searchFilters.all")}),a?.map(s=>e.jsx("option",{value:s,children:o(`subjects.${s}`)||s},s))]})]}),e.jsxs("div",{className:"form-control md:col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-[var(--text-color)]",children:o("searchFilters.gradeLevel")})}),e.jsxs("select",{onChange:s=>h(s.target.value),className:`select select-bordered w-full ${j.dropdown}`,children:[e.jsx("option",{value:"",children:o("searchFilters.all")}),t?.map(s=>e.jsx("option",{value:s,children:o(`gradeLevels.${s}`)||s},s))]})]}),e.jsx("button",{onClick:r,type:"button",className:"btn btn-outline md:col-span-1 bg-[var(--primary-color)] text-white border-2 border-[var(--primary-color)] hover:bg-[var(--background-color)]  hover:text-[var(--primary-color)] focus:outline-none self-end",children:o("searchFilters.search")})]})}function c(a=""){return String(a).trim().toLowerCase()}function M(){const{t:a}=v(),t=N(r=>r.teachers.teachers),o=N(r=>r.teachers.status)==="loading",[n,b]=y(),d=n.get("query")||"",x=n.get("subject")||"",i=n.get("grade")||"",g=m.useMemo(()=>{const r=new Map;return t.forEach(l=>{const s=c(l.subject);s&&r.set(s,l.subject)}),Array.from(r.values()).sort((l,s)=>l.localeCompare(s))},[t]),u=m.useMemo(()=>{const r=new Map;return t.forEach(l=>{const s=c(l.gradeLevel);s&&r.set(s,l.gradeLevel)}),Array.from(r.values()).sort((l,s)=>l.localeCompare(s))},[t]),h=m.useMemo(()=>{const r=c(d),l=c(x),s=c(i);return t.filter(p=>{const w=!r||c(p.name).includes(r),S=!l||c(p.subject)===l,k=!s||c(p.gradeLevel).includes(s);return w&&S&&k})},[t,d,x,i]);return e.jsxs("div",{children:[e.jsx(_,{query:d,subject:x,gradeLevel:i,subjectOptions:g,gradeOptions:u,setSearchParams:b}),o?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:Array.from({length:6}).map((r,l)=>e.jsx("div",{className:"card bg-base-200 animate-pulse h-80"},l))}):h.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:h.map(r=>e.jsx("div",{children:e.jsx(C,{teacher:r})},r.id))}):e.jsx("p",{className:"text-center text-[var(--text-color)]",children:"No teachers found."})]})}function A(){const{t:a}=v();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"search mt-[100px] mb-[50px]",children:[e.jsx("div",{className:"bg-[var(--light-background)] pt-[50px] pb-[70px] ","data-aos":"fade-down",children:e.jsx("h1",{className:"font-bold text-[var(--dark-color)] mb-8 text-center text-[length:var(--title-font-size)]","data-aos":"fade-down",children:a("searchPage.title")})}),e.jsx("div",{className:"container",children:e.jsx(M,{})})]})})}export{A as default};
